<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
    <meta name="theme-color" content="#0f172a" media="(prefers-color-scheme: light)" />
    <meta name="theme-color" content="#111827" media="(prefers-color-scheme: dark)" />
    <meta name="description" content="Manage event invitees, approvals, attendance, and reports" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="Invitees" />
    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon" href="/icons/apple-touch-icon.png" />
    <title>Event Invitees Management System</title>
  </head>
  <body>
    <div id="root">
      <!-- Inline splash: shows instantly before React loads, seamless with native PWA splash -->
      <div id="pre-splash" style="position:fixed;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;background:linear-gradient(160deg,#0f172a 0%,#1e1b4b 40%,#312e81 100%);z-index:9999">
        <div style="width:80px;height:80px;background:rgba(255,255,255,0.1);border-radius:16px;display:flex;align-items:center;justify-content:center;backdrop-filter:blur(20px);-webkit-backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,0.15);box-shadow:0 25px 50px rgba(0,0,0,0.25);margin-bottom:24px">
          <svg viewBox="0 0 32 32" width="44" height="44">
            <circle cx="13" cy="11" r="3.8" fill="white" opacity="0.95"/>
            <path d="M6.5 22.5c0-3.8 2.9-5.8 6.5-5.8s6.5 2 6.5 5.8" fill="white" opacity="0.95"/>
            <circle cx="23.5" cy="22" r="6.5" fill="#34D399"/>
            <path d="M20.2 22l2.3 2.3 3.8-3.8" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" fill="none"/>
          </svg>
        </div>
        <div style="color:white;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;font-size:22px;font-weight:700;letter-spacing:-0.02em;margin-bottom:6px">Invitees</div>
        <div style="color:rgba(165,180,252,0.7);font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;font-size:11px;font-weight:500;letter-spacing:0.2em;text-transform:uppercase;margin-bottom:32px">Management System</div>
        <div style="width:28px;height:28px;border:3px solid rgba(255,255,255,0.2);border-top-color:white;border-radius:50%;animation:pre-spin 0.8s linear infinite"></div>
        <style>@keyframes pre-spin{to{transform:rotate(360deg)}}</style>
      </div>
    </div>
    <script>
      // Capture beforeinstallprompt EARLY — before React mounts — so it's never missed.
      window.__pwaInstallPrompt = null;
      window.addEventListener('beforeinstallprompt', function(e) {
        e.preventDefault();
        window.__pwaInstallPrompt = e;
      });
    </script>
    <script type="module" src="/src/main.tsx"></script>
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js').catch(() => {});
        });
      }
    </script>
  </body>
</html>
